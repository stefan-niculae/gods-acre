// Generated by CoffeeScript 1.10.0
(function() {
  var addTableSuperHeaders, caseInsensitive, changeIcons, initJsGrid, jsGridController;

  $(function() {
    var paymentsTable;
    paymentsTable = $("#payments-table");
    initJsGrid(paymentsTable);
    return changeIcons();
  });

  initJsGrid = function(table) {
    return table.jsGrid({
      width: "100%",
      fields: [
        {
          name: "parcel",
          title: "Spot Parcel",
          type: "text"
        }, {
          name: "row",
          title: "Spot Row",
          type: "text"
        }, {
          name: "column",
          title: "Spot Column",
          type: "text"
        }, {
          name: "year",
          title: "Year Paid",
          type: "text",
          align: "left",
          headercss: "left-aligned-header"
        }, {
          name: "value",
          title: "Paid Amount",
          type: "text",
          align: "left",
          headercss: "left-aligned-header"
        }, {
          name: "receiptNumber",
          title: "Receipt Nr",
          type: "text",
          headercss: "left-aligned-header"
        }, {
          name: "receiptYear",
          title: "Receipt Year",
          type: "text",
          headercss: "left-aligned-header"
        }, {
          type: "control",
          editButton: false,
          modeSwitchButton: true
        }
      ],
      controller: jsGridController,
      heading: true,
      filtering: true,
      inserting: true,
      editing: true,
      selecting: true,
      sorting: true,
      paging: true,
      autoload: true,
      pageSize: 25,
      pageButtonCount: 5,
      pagerFormat: "{first} {prev} {pages} {next} {last} ( {itemCount} results )",
      pagePrevText: "<i class=\"fa fa-chevron-left\"></i>",
      pageNextText: "<i class=\"fa fa-chevron-right\"></i>",
      pageFirstText: "First",
      pageLastText: "Last"
    });
  };

  caseInsensitive = true;

  jsGridController = {
    loadData: function(filter) {
      var d;
      d = $.Deferred();
      $.ajax({
        type: "GET",
        url: "/revenue_jsgrid/api",
        data: filter
      }).done(function(result) {
        return d.resolve($.map(result, function(item) {
          return $.extend(item.fields, {
            id: item.pk
          });
        }));
      });
      return d.promise();
    }
  };

  addTableSuperHeaders = function(table) {
    return $("<tr class=\"jsgrid-header-row super-header-row\">\n  <th colspan=\"3\">Spot</th>\n  <th colspan=\"2\">Payment</th>\n  <th colspan=\"2\">Receipt</th>\n</tr>").prependTo(table);
  };

  changeIcons = function() {};

}).call(this);

//# sourceMappingURL=gird-features.js.map
